{"ast":null,"code":"import { BcmsComponent } from '@feat/common/bcms.component';\nimport { Evaluation } from '../evaluation.class';\nimport { User } from '@feat/user/user.class';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@system/system.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../evaluation.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../core/footer/footer.component\";\nimport * as i6 from \"../../../core/menu/menu.component\";\nimport * as i7 from \"../evaluation-review-item/evaluation-review-item.component\";\n\nfunction EvaluationReviewComponent_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" | \");\n    i0.ɵɵelementStart(2, \"a\", 6);\n    i0.ɵɵtext(3, \"Back to eval(a) ...\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction EvaluationReviewComponent_app_evaluation_review_item_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-evaluation-review-item\", 7);\n  }\n\n  if (rf & 2) {\n    const q_r2 = ctx.$implicit;\n    const idx_r3 = ctx.index;\n    i0.ɵɵproperty(\"q\", q_r2)(\"idx\", idx_r3);\n  }\n}\n\nexport let EvaluationReviewComponent = /*#__PURE__*/(() => {\n  class EvaluationReviewComponent extends BcmsComponent {\n    constructor(sys, route, evalsvc) {\n      super(sys);\n      this.sys = sys;\n      this.route = route;\n      this.evalsvc = evalsvc;\n      this.evalId = 0;\n      this.user = new User();\n      this.eval = new Evaluation();\n      this.pageTitle = \"Evaluation Review\";\n    }\n\n    ngOnInit() {\n      super.ngOnInit();\n      this.user = this.sys.loggedInUser;\n      this.evalId = this.route.snapshot.params.id;\n      this.evalsvc.get(this.evalId).subscribe(res => {\n        this.eval = res;\n        this.sys.log.debug(\"Evaluation:\", res);\n      }, err => {\n        this.sys.log.err(\"Failed to read evaluation:\", this.evalId, err);\n      });\n    }\n\n  }\n\n  EvaluationReviewComponent.ɵfac = function EvaluationReviewComponent_Factory(t) {\n    return new (t || EvaluationReviewComponent)(i0.ɵɵdirectiveInject(i1.SystemService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.EvaluationService));\n  };\n\n  EvaluationReviewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EvaluationReviewComponent,\n    selectors: [[\"app-eval-review\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 18,\n    vars: 4,\n    consts: [[\"routerLink\", \"/evals/stud/list/\"], [4, \"ngIf\"], [1, \"container\"], [1, \"row\"], [\"id\", \"description\", 1, \"col\", \"font-weight-bold\", \"font-italic\"], [3, \"q\", \"idx\", 4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/evals/list/\"], [3, \"q\", \"idx\"]],\n    template: function EvaluationReviewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-menu\")(1, \"header\");\n        i0.ɵɵelementStart(2, \"div\")(3, \"span\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(5, \" | \");\n        i0.ɵɵelementStart(6, \"span\")(7, \"a\", 0);\n        i0.ɵɵtext(8, \"Back to list ...\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(9, EvaluationReviewComponent_span_9_Template, 4, 0, \"span\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"main\")(11, \"div\", 2)(12, \"div\", 3)(13, \"div\", 4);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(15, EvaluationReviewComponent_app_evaluation_review_item_15_Template, 1, 2, \"app-evaluation-review-item\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"footer\");\n        i0.ɵɵelement(17, \"app-footer\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.pageTitle);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.user.role.isRoot || ctx.user.role.isAdmin || ctx.user.role.isInstructor);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.eval.description);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.eval.questions);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i2.RouterLinkWithHref, i5.FooterComponent, i6.MenuComponent, i7.EvaluationReviewItemComponent],\n    styles: [\"#description[_ngcontent-%COMP%]{font-size:1.5rem}\"]\n  });\n  return EvaluationReviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}