<app-menu></app-menu>
<header></header>
<div>
    <span>{{pageTitle}}</span>
    <span> | </span>
    <span><a routerLink="/evals/list" class="">Return to evals ...</a></span>
    <!-- <span> | </span>
    <span><input [(ngModel)]="searchCriteria" class="searchbox" type="text" placeholder="Search"></span> -->

</div>
<main class="component-content">
    <div>&nbsp;</div>
    <div class="container">
        <div class="row sortable">
            <div class="col-lg-1 text-left">Id</div>
            <div class="col-lg-4 text-left">Evaluation/Assessment</div>
            <div class="col-lg-3 text-left">Cohort</div>
        </div>
        <div class="row text-left">
            <div class="col-lg-1">{{eval.id}}</div>
            <div class="col-lg-4">{{eval.description}}</div>
            <div class="col-lg-3">
                <select [(ngModel)]="cohortId" name="cohort">
                    <option *ngFor="let c of cohorts" [ngValue]=c.id>{{c.name}}</option>
                </select>
            </div>
            <div *ngIf="cohortId > 0" class="col-lg">
                <button (click)="displayStudents()" class="btn btn-link">Display Students</button>
            </div>
        </div>
    </div>
    <div>&nbsp;</div>
    <div *ngIf="students" class="container">
        <div class="row text-left">
            <div class="col-lg-1 sortable"><input [(ngModel)]="checked" type="checkbox" (change)="checkAllChanged()"></div>
            <div class="col-lg-3 sortable">Student</div>
            <div class="col-lg-3 sortable">Message</div>
            <div class="col-lg-5 sortable">
                <button (click)="assign()" class="btn btn-link text-danger">Assign To Selected Students</button>
            </div>
        </div>
        <div class="row text-left" *ngFor="let us of students">
            <div class="col-lg-1"><input [(ngModel)]="us.checked" type="checkbox"></div>
            <div class="col-lg-3">{{us.user.firstname}} {{us.user.lastname}}</div>
            <div class="col-lg-3">{{us.message}}</div>
            <div class="col-lg-5">&nbsp;</div>
        </div>
    </div>
</main>
<footer>
    <app-footer></app-footer>
</footer>